import{d as B,f as C,n as q,e as j,q as m,m as y,s as I,r as u,o as a,c as r,g as e,l as i,t as c,a as x,h,j as l,k as d,b as F,N as R,F as T,i as V,p as b}from"./app.0ce71bde.js";import{g as L,q as U}from"./index.0854e187.js";import{g as $}from"./spaceMember.9adb8b4e.js";const M={class:"bg-gray-500/8 p-3 min-h-100vh"},Q=e("div",{class:"text-left text-hex-aaa text-xs ml-3"}," \u7A7A\u95F4\u4FE1\u606F ",-1),z={class:"bg-hex-fff rounded px-5 pt-2 text-hex-666 border border-hex-ccc"},G={class:"flex justify-between border-b border-hex-ccc text-14px py-2"},H=e("span",null,"\u7A7A\u95F4\u540D\u79F0",-1),J={class:"flex justify-between text-14px py-2"},K=e("span",null,"\u6210\u5458",-1),O=e("div",{class:"text-left mt-5 text-hex-aaa text-xs ml-3 mt-3"}," \u6210\u5458 ",-1),P={class:"bg-hex-fff px-2 border border-hex-ccc rounded"},W=e("ul",{class:"flex justify-around h-3em leading-12 border-b border-b-hex-E4E4E4 text-sm list_top"},[e("span",{class:"flex-1"},"\u5B66\u53F7/\u5DE5\u53F7"),e("span",{class:"flex-1"},"\u59D3\u540D"),e("span",{class:"flex-1"},"\u89D2\u8272")],-1),X={class:"flex-1"},Y={class:"flex-1"},Z={class:"flex-1"},ee=i("\u8D1F\u8D23\u4EBA"),te=i("\u7BA1\u7406\u5458"),se=i("\u6210\u5458"),oe=B({setup(ae){const k=C(),w=q(),A=j(),p=m([]),n=m({id:"",spaceName:"",count:"",createTime:""}),v=y(w.query.id),g=m({userId:k.userId,spaceId:0});L(v.value).then(t=>{n.id=t.data.id,n.createTime=t.data.createTime,n.spaceName=t.data.spaceName,n.count=t.data.count,g.spaceId=t.data.id}),$(v.value).then(t=>{p.push(...t.rows)}),I(()=>{window.scrollTo(0,0)});const E=()=>{U(g).then(t=>{t.code===200&&(R({type:"primary",message:"\u9000\u51FA\u6210\u529F"}),A.replace("/Space"))})},_=y(!1);return(t,o)=>{const N=u("van-icon"),D=u("van-dialog"),f=u("van-tag"),S=u("van-list");return a(),r("div",M,[Q,e("div",z,[e("div",G,[H,e("span",null,[i(c(x(n).spaceName)+" ",1),t.rank===2?(a(),r("span",{key:0,onClick:o[0]||(o[0]=s=>t.showUpdate=!0)},[h(N,{name:"arrow"})])):l("",!0)])]),e("div",J,[K,e("span",null,c(x(p).length)+"\u4EBA ",1)]),h(D,{show:_.value,"onUpdate:show":o[1]||(o[1]=s=>_.value=s),title:"\u662F\u5426\u9000\u51FA\u7A7A\u95F4","confirm-button-color":"rgb(63,133,255)","show-cancel-button":"",onConfirm:o[2]||(o[2]=s=>E())},null,8,["show"])]),O,e("div",P,[h(S,null,{default:d(()=>[W,(a(!0),r(T,null,V(x(p),s=>(a(),r("ul",{key:s,class:"flex justify-around h-3em leading-12 border-b border-b-hex-E4E4E4 text-sm"},[e("span",X,c(s.userId),1),e("span",Y,c(s.name),1),e("span",Z,[s.memberRank===2?(a(),b(f,{key:0,color:"#38bdf8"},{default:d(()=>[ee]),_:1})):l("",!0),s.memberRank===1?(a(),b(f,{key:1,color:"#10b981"},{default:d(()=>[te]),_:1})):l("",!0),s.memberRank===0?(a(),b(f,{key:2,plain:"",color:"#78716c"},{default:d(()=>[se]),_:1})):l("",!0)])]))),128))]),_:1})]),e("div",{class:"p-2 bg-white mt-3 rounded border border-hex-ccc text-red font-600",onClick:o[3]||(o[3]=s=>_.value=!0)}," \u9000\u51FA\u7A7A\u95F4 ")])}}});typeof F=="function"&&F(oe);export{oe as default};
