import{d as T,q as i,n as U,m,r as n,o as p,c as h,g as t,h as a,k as l,b as E,l as c,a as d,p as Q,j as N,T as y}from"./app.0ce71bde.js";import{s as I,a as $}from"./index.e852a593.js";const z={class:"p-3 bg-gray-100 min-h-100vh"},j=t("div",{class:"p-3 text-xs text-left rounded",style:{"background-color":"rgb(224, 250, 251)",color:"rgb(0, 51, 153)","line-height":"25px",border:"1px solid rgb(166, 222, 251)"}},[t("div",null,"\u8F85\u52A9\u7B7E\u5230\u7528\u6CD5\uFF1A"),t("div",{class:"px-8"},[c(" 1.\u7B7E\u5230\u53D1\u8D77\u4EBA\u53EF\u4EE5\u901A\u8FC7\u76F4\u63A5\u8865\u5F55\u672A\u7B7E\u5230\u540C\u5B66\u7684\u4FE1\u606F\u6765\u8BA9\u5176\u7B7E\u5230 "),t("br"),c(" 2.\u7B7E\u5230\u53D1\u8D77\u4EBA\u53EF\u4EE5\u901A\u8FC7\u751F\u6210\u4E8C\u7EF4\u7801\u8BA9\u7B7E\u5230\u4E0D\u6210\u529F\u7684\u540C\u5B66\u7B7E\u5230 ")])],-1),J={class:"m-t-4"},M={class:"text-left mt-6 border-1 p-4 border-gray-500/50 rounded bg-white"},P={class:"mt-8"},S=c("\u8865\u5F55"),G={class:"mt-6 border-1 p-4 border-gray-500/50 font-semibold rounded bg-white"},H=c(" \u8F85\u52A9\u626B\u7801\u7B7E\u5230\uFF08 "),K=c(" \uFF09 "),L={key:0,class:"mt-5"},O=c("\u52A0\u8F7D\u4E2D..."),W=["src"],X=T({setup(Y){const u=i({stuNum:"",stuName:""}),_=U(),v=_.query.id,C=_.query.spaceName,F=m(""),x=()=>{const s=i({signId:v,userId:u.stuNum,userName:u.stuName});I(s).then(e=>{e.code===200?(y.success({message:"\u8865\u5F55\u6210\u529F",duration:700}),u.stuNum="",u.stuName=""):y.fail({message:e.msg,duration:700})}).catch(e=>{})},A=i({signId:v,path:"http://localhost:3333/sign/record/checkRecord/helpJumpPage"}),g=m(!0),D=()=>{$(A).then(s=>{s.code===200&&(F.value=s.data.url,g.value=!1)}).catch(s=>{})},b=()=>{D()},r=m("byName"),k=()=>{r.value==="byCode"?b():(u.value.stuNum="",u.value.stuName="")};return(s,e)=>{const f=n("van-field"),V=n("van-cell-group"),R=n("van-button"),B=n("van-tab"),q=n("van-loading"),w=n("van-tabs");return p(),h("div",z,[j,t("div",J,[a(w,{color:"rgb(0,51,255)","title-active-color":"rgb(0,51,255)",onChange:e[4]||(e[4]=o=>k()),active:r.value,"onUpdate:active":e[5]||(e[5]=o=>r.value=o)},{default:l(()=>[d(C)!=="\u65E0"?(p(),Q(B,{key:0,title:"\u76F4\u63A5\u8865\u5F55",name:"byName"},{default:l(()=>[t("div",M,[a(V,{border:"false"},{default:l(()=>[a(f,{modelValue:d(u).stuNum,"onUpdate:modelValue":e[0]||(e[0]=o=>d(u).stuNum=o),"label-width":"3em",label:"\u5B66\u53F7\uFF1A",placeholder:"\u8BF7\u8F93\u5165\u9700\u8981\u8865\u5F55\u5B66\u751F\u7684\u5B66\u53F7"},null,8,["modelValue"]),a(f,{modelValue:d(u).stuName,"onUpdate:modelValue":e[1]||(e[1]=o=>d(u).stuName=o),"label-width":"3em",label:"\u59D3\u540D\uFF1A",placeholder:"\u8BF7\u8F93\u5165\u9700\u8981\u8865\u5F55\u5B66\u751F\u7684\u59D3\u540D"},null,8,["modelValue"])]),_:1})]),t("div",P,[a(R,{type:"success",size:"large",onClick:e[2]||(e[2]=o=>x())},{default:l(()=>[S]),_:1})])]),_:1})):N("",!0),a(B,{title:"\u751F\u6210\u4E8C\u7EF4\u7801",name:"byCode"},{default:l(()=>[t("div",G,[H,t("span",{style:{color:"rgb(0, 102, 255)"},onClick:e[3]||(e[3]=o=>b())},"\u5237\u65B0"),K,g.value?(p(),h("div",L,[a(q,{color:"#999",type:"spinner",size:"30px",class:"text-14px font-400"},{default:l(()=>[O]),_:1})])):N("",!0),t("img",{class:"px-10 py-5",src:F.value},null,8,W)])]),_:1})]),_:1},8,["active"])])])}}});typeof E=="function"&&E(X);export{X as default};
