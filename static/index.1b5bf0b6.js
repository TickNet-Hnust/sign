import{m as b,a as p,B as C,J as D,L as B,M,d as S,n as I,s as E,q as $,r as F,o as h,c as v,g as c,t as g,p as j,j as L,F as N,i as q,b as y,D as R,E as V}from"./app.0ce71bde.js";import{g as z}from"./spaceMember.9adb8b4e.js";import{_ as H}from"./plugin-vue_export-helper.db4a78ed.js";function w(s){return B()?(M(s),!0):!1}const k=typeof window!="undefined";function J(s,i=1e3,_={}){const{immediate:n=!0,immediateCallback:r=!1}=_;let t=null;const l=b(!1);function o(){t&&(clearInterval(t),t=null)}function f(){l.value=!1,o()}function u(){i<=0||(l.value=!0,r&&s(),o(),t=setInterval(s,p(i)))}if(n&&k&&u(),C(i)){const x=D(i,()=>{n&&k&&u()});w(x)}return w(f),{isActive:l,pause:f,resume:u}}const O=s=>(R("data-v-93c94d38"),s=s(),V(),s),T={class:"bg-gray-500/8 p-7 h-screen"},W={class:"bg-hex-93CEA6 mx-auto my-1 text-3xl text-white w-6em h-6em leading-6em rounded-1/2"},G={class:"flex justify-between"},K={class:"max-h-15em border border-hex-41AA62 mt-6 rounded bg-white px-3 mx-3 text-14px",style:{overflow:"scroll"}},P=O(()=>c("div",{class:"py-1"},"\u9009\u4E2D\u4EBA\u540D\u5355",-1)),A=S({setup(s){const _=I().query.id,n=b([]),r=b("");E(()=>{z(Number(_)).then(e=>{e.code===200&&(e.rows.forEach(a=>{n.value.push(a.name)}),r.value=n.value[0])}).catch(e=>{})});const t=e=>e<10?`0${e}`:e,l=()=>{f();const e=new Date,a={name:r.value,time:`${t(e.getMonth()+1)}-${t(e.getDate())} ${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`};o.push(a)},o=$([]),{pause:f,resume:u,isActive:x}=J(()=>{let e=Math.round(Math.random()*(n.value.length-1));for(;;){let a=!0;for(let d=0;d<o.length;d++)if(o[d].name===n.value[e]){a=!1;break}if(a)break;e=Math.round(Math.random()*(n.value.length-1))}r.value=n.value[e]},100,{immediate:!1});return(e,a)=>{const d=F("van-empty");return h(),v("div",T,[c("div",W,g(r.value),1),c("div",G,[c("div",{class:"begin action_btn w-9em bg-white h-3em rounded leading-3em mt-5",onClick:a[0]||(a[0]=(...m)=>p(u)&&p(u)(...m))}," \u968F\u673A\u70B9\u540D "),c("div",{class:"stop action_btn w-9em bg-white h-3em rounded leading-3em mt-5",onClick:l}," \u505C\u6B62\u70B9\u540D ")]),c("div",K,[P,p(o).length===0?(h(),j(d,{key:0,class:"py-2",description:"\u6682\u65F6\u4E3A\u7A7A","image-size":[120,80]})):L("",!0),(h(!0),v(N,null,q(p(o),m=>(h(),v("div",{key:m,class:"flex justify-between py-1 border-t border-hex-ccc"},[c("span",null,g(m.name),1),c("span",null,g(m.time),1)]))),128))])])}}});typeof y=="function"&&y(A);var Y=H(A,[["__scopeId","data-v-93c94d38"]]);export{Y as default};
